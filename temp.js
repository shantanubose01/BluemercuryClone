var productData = [
    {
      id: 1,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-008080163349-1_235x.jpg?v=1664951588",
      name: "MOLTON BROWN ",
      title: "Rose Dunes Body Lotion",
      price: "$" + "" + 44,
      qty: 1,
    },
    {
      id: 2,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-1230000065672-1_235x.jpg?v=1665000256",
      name: "NOBLE PANACEA",
      title: "The Vitamin C Booster",
      price: "$" + "" + 160,
      strikedoffprice: 1749,
    },
    {
      id: 3,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-191677344358-1_235x.jpg?v=1663749101",
      name: "ALO ",
      title: "Magic Balm",
      price: "$" + "" + 48,
    },
    {
      id: 4,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 5,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-color-smokeytopaz-814309022881-1_235x.jpg?v=1665393037",
      name: "LUNE+ASTER",
      title: "StarDust Eye Pop",
      price: "$" + "" + 28,
    },
    {
      id: 6,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-633222211079-1_235x.jpg?v=1665184281",
      name: "RÉVIVE",
      title: "Fermitif Neck Renewal Serum Firming Treatment",
      price: "$" + "" + 195,
    },
    {
      id: 7,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-6treatments-633222213967-1_235x.jpg?v=1664208872",
      name: "RÉVIVE",
      title: "Masque Des Yeux Instant De-Puffing Gel Eye Mask",
      price: "$" + "" + 28 + " - " + "$" + "" + 95,
    },
    {
      id: 8,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-810081492522-1_235x.jpg?v=1664977097",
      name: "R+CO BLEU",
      title: "F-Layer Deep Conditioning Serum",
      price: "$" + "" + 64,
    },
    {
      id: 9,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-851367006033-1_235x.jpg?v=1665079951",
      name: "ZIIP",
      title: "ZIIP GX Kit",
      price: "$" + "" + 495,
    },
    {
      id: 10,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-17oz50ml-860002327020-1_235x.jpg?v=1664800607",
      name: "U BEAUTY",
      title: "Resurfacing Compound",
      price: "$" + "" + 88 + " - " + "$" + "" + 228,
    },
    {
      id: 11,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-850033397130-1_235x.jpg?v=1665072077",
      name: "IRENE FORTE",
      title: "Pistachio Face Mask",
      price: "$" + "" + 155,
    },
    {
      id: 12,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-05floz15ml-840216931336-1_235x.jpg?v=1664950984",
      name: "LIVING PROOF",
      title: "Triple Bond Complex",
      price: "$" + "" + 20 + " - " + "$" + "" + 45,
    },
    {
      id: 13,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-color-deepalmond-814309023086-1_235x.jpg?v=1665392043",
      name: "LUNE+ASTER",
      title: "Dawn to Dusk Foundation Stick",
      price: "$" + "" + 52,
    },
    {
      id: 14,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-5060552904893-1_235x.jpg?v=1663862860",
      name: "AUGUSTINUS BADER",
      title: "The Neem Comb With Handle",
      price: "$" + "" + 28,
    },
    {
      id: 15,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-6ml-840732118372-1_235x.jpg?v=1663175589",
      name: "NEST NEW YORK",
      title: "Indian Jasmine Perfume Oil",
      price: "$" + "" + 35 + " - " + "$" + "" + 98,
    },
    {
      id: 16,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-color-deep-810050680219-1_235x.jpg?v=1663939862",
      name: "KEVYN AUCOIN",
      title: "The Contour Eyeshadow Palette",
      price: "$" + "" + 36,
    },
    {
      id: 17,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-814309023185-1_235x.jpg?v=1665072818",
      name: "BLUEMERCURY",
      title: "The Fall Makeup Edit",
      price: "$" + "" + 75,
    },
    {
      id: 18,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-390205025008-v-20221010T060027Z-1_235x.jpg?v=1665414782",
      name: "ELTAMD",
      title: "UV Clear Broad-Spectrum SPF 46r",
      price: "$" + "" + 39,
    },
    {
      id: 19,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-color-ember-670959117335-1_235x.jpg?v=1662653093",
      name: "JANE IREDALE",
      title: "Glow Time™ Blush Stick",
      price: "$" + "" + 38,
    },
    {
      id: 20,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-885609030272-1_235x.jpg?v=1665014686",
      name: "DYSON",
      title: "Special Gift Edition Airwrap™ Multi-Styler",
      price: "$" + "" + 599.99,
    },
    {
      id: 21,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitalash Advanced Eyelash Conditioner",
      price: "$" + "" + 55 + " - " + "$" + "" + 150,
    },
    {
      id: 22,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-885609029559-1_235x.jpg?v=1665072941",
      name: "DYSON",
      title: "Special Gift Edition Corrale™ Hair Straightener",
      price: "$" + "" + 499.99,
    },
    {
      id: 23,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-860006846343-1_235x.jpg?v=1664800517",
      name: "PLANTKOS",
      title: "Phyto A Face Lotion",
      price: "$" + "" + 67,
    },
    {
      id: 24,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-50ml-850039151019-2_235x.jpg?v=1662797548",
      name: "ELLIS BROOKLYN",
      title: "Vanilla Milk Eau de Parfum",
      price: "$" + "" + 105,
    },
    {
      id: 25,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-212oz600g-3700431440853-1_235x.jpg?v=1665000219",
      name: "DIPTYQUE",
      title: "34 Boulevard Saint Germain Hourglass Diffuser",
      price: "$" + "" + 115 + " - " + "$" + "" + 220,
    },
    {
      id: 26,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-3700431439024-1_235x.jpg?v=1663181548",
      name: "DIPTYQUE",
      title: "34 Boulevard Saint Germain Hourglass Diffuser",
      price: "$" + "" + 200,
    },
    {
      id: 27,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-3337875742511-1_235x.jpg?v=1662648427",
      name: "SKINCEUTICALS",
      title: "Phyto Corrective Essense Mist",
      price: "$" + "" + 67,
    },
    {
      id: 28,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-885609029474-1_235x.jpg?v=1665072949",
      name: "DYSON",
      title: "Special Gift Edition Supersonic™ Hair Dryer",
      price: "$" + "" + 429.99,
    },
    {
      id: 29,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-color-deep-791222902349-1_235x.jpg?v=1662538945",
      name: "TRISH MCEVOY",
      title: "The Power of Makeup® Makeup Planner® Collection",
      price: "$" + "" + 98,
    },
    {
      id: 30,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-814309023154-1_235x.jpg?v=1665072790",
      name: "BLUEMERCURY",
      title: "The All-Star Edit",
      price: "$" + "" + 99,
    },
    {
      id: 31,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-747930142379-1_235x.jpg?v=1665389537",
      name: "LA MER",
      title: "The Glowing Hydration Duet",
      price: "$" + "" + 490,
    },
    {
      id: 32,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-747930142362-1_235x.jpg?v=1665389526",
      name: "LA MER",
      title: "The Crème de la Mer Duet",
      price: "$" + "" + 380,
    },
    {
      id: 33,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-814309022812-v-20221010T060027Z-1_235x.jpg?v=1665385620",
      name: "LUNE+ASTER",
      title: "Kaleidoscopic Nudes Eyeshadow Palette",
      price: "$" + "" + 68,
    },
    {
      id: 34,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-817237011965-v-20221010T060027Z-1_235x.jpg?v=1665385712",
      name: "M-61",
      title: "Hydration Hugs+Kisses",
      price: "$" + "" + 20,
    },
    {
      id: 35,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-817237011996-v-20221010T060027Z-1_235x.jpg?v=1665385748",
      name: "M-61",
      title: "Total Rock Stars Set",
      price: "$" + "" + 48,
    },
    {
      id: 36,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/global_images-195893801718-1_235x.jpg?v=1665074324",
      name: "WELLINSULATED",
      title: "Performance Beauty Case - Silver",
      price: "$" + "" + 98,
    },
    {
      id: 37,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 38,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 39,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 40,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 41,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 42,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 43,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 44,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 45,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 46,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 47,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 48,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH111",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 49,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },
    {
      id: 50,
      image_url:
        "https://cdn.shopify.com/s/files/1/0283/0185/2747/products/variant_images-size-005floz15ml-893689003826-1_235x.jpg?v=1664935004",
      name: "REVITALASH",
      title: "Revitabrow Advanced Eyebrow Conditioner",
      price: "$" + "" + 58 + " - " + "$" + "" + 110,
    },

  ];

  calculateProductPaging(1);
  // displayProducts();
  buildPagingButtons(productData);
  function displayProducts(productsToDisplay) {
    if(document.querySelector("#collectionProductCardGrid")){
      document.querySelector("#collectionProductCardGrid").innerHTML='';
    }

    productsToDisplay.map(function (ele, i) {
      var div = document.createElement("div");
      div.setAttribute("class", "productcard");

      var newtext = document.createElement("p");
      newtext.setAttribute("class", "merchbadge");
      newtext.innerText = "New";

      var concious = document.createElement("p");
      concious.setAttribute("class", "merchbadgeCB");
      concious.innerText = "Conscious Beauty";


      var image = document.createElement("img");
      image.setAttribute("src", ele.image_url);
      image.setAttribute("alt", ele.id);
      image.setAttribute("class", "productImage");

      var h3 = document.createElement("h3");
      h3.setAttribute("class", "productCardBrand");
      h3.innerText = ele.name;

      var title = document.createElement("p");
      title.setAttribute("class", "ProductCard__Title");
      title.innerText = ele.title;

      var price = document.createElement("p");
      price.setAttribute("class", "productCardPrice");
      price.innerText = ele.price;

      var cartbtn = document.createElement("button");
      // cartbtn.innerText = "ADD TO BAG";

      var firstSpan = document.createElement("span");
      var secondSpan = document.createElement("span");
      firstSpan.setAttribute("class","firstspan");
      secondSpan.setAttribute("class","secondspan");
      
      
      cartbtn.setAttribute("class", "addbtn");
      var iTag = document.createElement("i");
      iTag.setAttribute("class", "fa-solid fa-cart-shopping");
      firstSpan.append(iTag) ;
      secondSpan.innerText = "ADD TO BAG";
      cartbtn.append(firstSpan,secondSpan);

      cartbtn.addEventListener("click", function () {
        addToCart(i);
      });


      div.append(newtext,concious,image, h3, title, price, cartbtn);
      document.querySelector("#collectionProductCardGrid").append(div);

    });

    // window.location.href='cart.html';
  }


  var productInCart = JSON.parse(localStorage.getItem("Cartproduct")) || [];
  function addToCart(index) {
    var product = productData.filter(function (ele, i) {
      return i == index;
    });
    productInCart.push(product[0]);
    localStorage.setItem("Cartproduct", JSON.stringify(productInCart));
  }

  function buildPagingButtons(products) {
    var totalProducts = products.length;
    var recordsPerPage = 12;
    var totalbuttons = Math.ceil(totalProducts / recordsPerPage);
    for (var i = 1; i <= totalbuttons; i++) {
      var pagingButton = document.createElement('button');
      pagingButton.innerText = `${i}`;
      pagingButton.setAttribute("class", "pagingButton");
      pagingButton.setAttribute("onClick",`calculateProductPaging(${i})`);
      document.querySelector('#pagingButtons').append(pagingButton);
    }

  }

  function calculateProductPaging(selectedPageNumber) {
    //debugger
    var totalRecords = productData.length;
    var perPageRecoreds = 20;
    var choosenPageNo = +selectedPageNumber;
    var lastRecordsLength = choosenPageNo * perPageRecoreds;
    var firstRecord = ((choosenPageNo - 1) * perPageRecoreds) + 1;

     var pagedRecords = [];
    for (var i = firstRecord; i <= lastRecordsLength; i++) {
      if (productData.length < i) {
        continue;
      }
      pagedRecords.push(productData[i-1]);
    }
    displayProducts(pagedRecords);

  }
  function handlerolefilter() {
    alert('hlo');
  }                                                                                  